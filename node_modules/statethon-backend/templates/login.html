<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Sign in â€¢ AI-Enhanced Survey</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
	<style>
		:root{ --bg1:#f5f7fb; --bg2:#ffffff; --card:#ffffff; --muted:#6b7280; --accent:#2563eb; --text:#111827; }
		@keyframes floatIn { from{ opacity:0; transform: translateY(8px);} to{ opacity:1; transform:none;} }
		@keyframes pulseBorder { 0%{ box-shadow:0 0 0 0 rgba(37,99,235,.25);} 70%{ box-shadow:0 0 0 12px rgba(37,99,235,0);} 100%{ box-shadow:0 0 0 0 rgba(37,99,235,0);} }
		body { background: linear-gradient(135deg, var(--bg1), var(--bg2)); min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px; color: var(--text); background-size:200% 200%; animation: gradientShift 16s ease infinite; }
		.login-card { width:100%; max-width:460px; border-radius:18px; background:#ffffff; box-shadow:0 30px 60px rgba(0,0,0,.2); overflow:hidden; }
		.header { background: linear-gradient(135deg, #0ea5e9, var(--accent)); color:#fff; padding:24px; }
		.brand { font-weight:800; letter-spacing:.3px; }
		.form-wrapper { padding:24px; animation: floatIn .5s ease both; }
		.muted { color:#6b7280; }
		.input-group-text { background:#f8fafc; }

		/* Dark mode */
		body.theme-dark { --bg1:#0f172a; --bg2:#0b1220; --card:#0b1220; --muted:#94a3b8; --accent:#2563eb; --text:#e2e8f0; }
		body.theme-dark .login-card { background:#0b1220; color:#e2e8f0; }
	</style>
</head>
<body>
	<div class="login-card">
		<div class="header d-flex align-items-center justify-content-between">
			<div class="brand"><i class="fas fa-lock me-2"></i>Sign in</div>
			<div>
				<a class="btn btn-sm btn-outline-light" href="/">Back</a>
			</div>
		</div>
		<div class="form-wrapper">
			<p class="muted mb-3">Access your workspace. Admins can open the dashboard after sign-in.</p>
			{% if error %}
			<div class="alert alert-danger">{{ error }}</div>
			{% endif %}
			{% if success %}
			<div class="alert alert-success">{{ success }}</div>
			{% endif %}
			<form method="POST" action="/login" novalidate>
				<div class="mb-3 input-group">
					<span class="input-group-text"><i class="fas fa-user"></i></span>
					<input class="form-control" name="username" placeholder="Username" required />
				</div>
				<div class="mb-3 input-group">
					<span class="input-group-text"><i class="fas fa-key"></i></span>
					<input class="form-control" id="pwd" name="password" type="password" placeholder="Password" required />
					<button class="btn btn-outline-secondary" type="button" onclick="togglePwd()"><i class="far fa-eye"></i></button>
				</div>
				<button class="btn btn-primary w-100" type="submit" style="animation:pulseBorder 2s infinite;">Login</button>
			</form>
			<div class="d-flex justify-content-between align-items-center mt-3">
				<a href="/register">Create account</a>
				<a class="btn btn-warning btn-sm" href="/admin">Admin</a>
			</div>
		</div>
	</div>

	<script>
		function togglePwd(){
			const p = document.getElementById('pwd');
			p.type = p.type === 'password' ? 'text' : 'password';
		}
		// subtle gradient animation
		function gradientShift(){return null}
	</script>
</body>
</html>


